<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>es11新特性学习</title>
		
		<script type="module">
			/**
			 * es11 中新增了可选链操作符
			 * 
			 * 语法：xxx?
			 */
			function main(config) {
				//之前的做法
				let port = config && config.host && config.host.port
				console.log(port)
				
				//es11
				// let port11 = config?.host?.port
				// console.log(port11)
			}
			main({
				host: {
					name: 'root',
					password: '123456',
					port: 80
				},
				url: 'https://www.org.open'
			})
			
			
			/**
			 * es11 新增了更大的数值运算，可以使用BigInt来完成
			 * 
			 * 		js中可以通过Number.MAX_SAFE_INTEGER获取最大数值，这个数只能再+1，如果+2发现不会改变，
			 * 		这时候可以使用BigInt()来做更大数值的运算
			 * 	
			 * 		注意：BigInt只能跟BigInt类型的数值想加，否则会报错
			 */
			let maxNumber = Number.MAX_SAFE_INTEGER
			console.log(maxNumber, typeof(maxNumber))
			
			//使用BigInt进行大数值运算
			let result = BigInt(maxNumber) + BigInt(10000)
			console.log(result)
			
			
			/**
			 * globalThis：它是指向全局对象的this，如果要操作全局变量可以使用它
			 */
		</script>
	</head>
	<body>
		<button id="btn">点击显示弹窗</button>
		
		<script type="module">
			/**
			 * es11 中新增 动态导入函数import()
			 * 		此函数需要传入一个要导入的module文件路径，会返回一个成功的Promise对象，
			 * 		Promise的值就是一个Module，可以直接调用Module里面的函数
			 */
			document.getElementById('btn').onclick = function() {
				import('./js/testAlert.js').then(module => {
					module.showAlert('hello')
				})
			}
		</script>
	</body>
</html>
